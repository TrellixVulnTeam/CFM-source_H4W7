{"ast":null,"code":"var _jsxFileName = \"/home/alex/Documents/Work/ccfe/frontend/src/components/NewEntity.js\";\nimport React, { Component } from 'react';\nimport { Link, NavLink, withRouter, useHistory, Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport store from \"../store/index\";\nimport Cookies from 'js-cookie';\nimport { HOST } from \"../constants/host.js\"; //const HOST = \"https://cfm.mipt.ru:8443\"  // \"http://127.0.0.1:40001\" //\n\nclass NewEntity extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      single_valued_fields: [{\n        name: \"Source Cell Type\",\n        value: \"\"\n      }, {\n        name: \"Target Cell Type\",\n        value: \"\"\n      }, {\n        name: \"Species\",\n        value: \"\"\n      }, {\n        name: \"DOI\",\n        value: \"\"\n      }, {\n        name: \"Duration, days\",\n        value: \"\"\n      }, {\n        name: \"Medium\",\n        value: \"\"\n      }, {\n        name: \"Initial Culture\",\n        value: \"\"\n      }, {\n        name: \"Article title\",\n        value: \"\"\n      }, {\n        name: \"Yield of product\",\n        value: \"\"\n      }, {\n        name: \"How was the Yield calculated\",\n        value: \"\"\n      }, {\n        name: \"Comments on protocol\",\n        value: \"\"\n      }],\n      chemical_compounds: [{\n        chemical_common: \"\",\n        chemical_cid: \"\",\n        chemical_moa: \"\"\n      } //canonical_smiles [],\n      //associated_articles: []\n      ],\n      tfs: [{\n        value: \"\"\n      }],\n      sfs: [{\n        value: \"\"\n      }],\n      authors: [{\n        value: \"\"\n      }],\n      gfs: [{\n        value: \"\"\n      }],\n      redirect: \"FALSE\"\n    };\n\n    this.handleSubmit = e => {\n      const access_token = Cookies.get(\"access_token\") ? Cookies.get(\"access_token\") : \"password\";\n      const user_name = Cookies.get(\"userName\") ? Cookies.get(\"userName\") : \"JohnDoe\"; //console.log(access_token)\n\n      const request = {\n        user_name: user_name,\n        access_token: access_token,\n        request: this.state\n      };\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': \"*\"\n        }\n      };\n      e.preventDefault(); //console.log(\"handleSubmit call:\")\n      //\"https://cfm.mipt.ru:8443\"\n      // \"http://127.0.0.1:40001\"\n\n      console.log(\"REQUEST:\", request);\n      axios.post(HOST + \"/api/submitQuery\", request, config).then(response => {\n        if (response.status == 200) {\n          alert(\"Submited successfully!\");\n        } else {\n          alert(\"An error occupied!\");\n        }\n\n        console.log(response);\n      }).catch(error => {\n        console.log(\"STATUS:\", error.response.status);\n\n        if (error.response.status == 401) {\n          alert(\"You are not authorized for this action! \\nContact sizykh.ad@mipt.ru\");\n          this.props.history.push(\"/\");\n        } else if (error.response.status == 500) {\n          alert(\"Please check the correcthess of your input data.\");\n        }\n\n        console.log(\"ERROR\", error);\n      });\n    };\n\n    this.getUser = () => {\n      //return store.getState();\n      return {\n        username: Cookies.get(\"user_name\") ? Cookies.get(\"user_name\") : \"JohnDoe\",\n        password: Cookies.get(\"access_token\") ? Cookies.get(\"access_token\") : \"password\"\n      };\n    };\n\n    this.handleRemoveStep = idx => () => {\n      this.setState({\n        compound: this.state.protocol_steps.filter((c, c_s, sidx) => idx !== sidx)\n      });\n    };\n\n    this.onSingleValuedFieldChange = (value, field_idx) => {\n      ///console.log(value)\n      const single_valued_fields = this.state.single_valued_fields;\n      single_valued_fields[field_idx].value = value;\n      this.setState({\n        single_valued_fields: single_valued_fields\n      });\n    };\n\n    this.onStepDurationChange = (value, step_idx) => {\n      const protocol_steps = this.state.protocol_steps;\n      protocol_steps[step_idx].step_duration = value;\n      this.setState({\n        protocol_steps: protocol_steps\n      });\n    };\n\n    this.onStepDescriptionChange = (value, step_idx) => {\n      const protocol_steps = this.state.protocol_steps;\n      protocol_steps[step_idx].step_description = value;\n      this.setState({\n        protocol_steps: protocol_steps\n      });\n    };\n\n    this.onChemicalNameChange = (value, step_idx, chemical_idx) => {\n      const protocol_steps = this.state.protocol_steps;\n      protocol_steps[step_idx].chemicals_used[chemical_idx].chemical_name = value;\n      this.setState({\n        protocol_steps: protocol_steps\n      });\n    };\n\n    this.onChemicalSmilesChange = (value, step_idx, chemical_idx) => {\n      const protocol_steps = this.state.protocol_steps;\n      protocol_steps[step_idx].chemicals_used[chemical_idx].chemical_smiles = value;\n      this.setState({\n        protocol_steps: protocol_steps\n      });\n    };\n\n    this.onChemicalAmountChange = value => {\n      // TODO: Add functionality here\n      console.log(value);\n    };\n\n    this.handleAddChemicalCompound = e => {\n      e.preventDefault();\n      console.log(\"ADD CHEMICAL EVENT\");\n      console.log(e);\n      const chemicalCompounds = [...this.state.chemical_compounds, {\n        chemical_common: \"\",\n        chemical_cid: \"\",\n        chemical_moa: \"\"\n      }];\n      this.setState({\n        chemical_compounds: chemicalCompounds\n      });\n    };\n\n    this.handleAddTranscriptionFactor = e => {\n      e.preventDefault();\n      console.log(\"ADD CHEMICAL EVENT\");\n      console.log(e);\n      const tfs = [...this.state.tfs, {\n        value: \"\"\n      }];\n      this.setState({\n        tfs: tfs\n      });\n      console.log(\"TFS:\", tfs);\n    };\n\n    this.handleAddGrowthFactor = e => {\n      e.preventDefault();\n      const gfs = [...this.state.gfs, {\n        value: \"\"\n      }];\n      this.setState({\n        gfs: gfs\n      });\n      console.log(\"GFS:\", gfs);\n    };\n\n    this.handleAddStressFactor = e => {\n      e.preventDefault();\n      console.log(\"ADD SF EVENT\");\n      console.log(e);\n      const sfs = [...this.state.sfs, {\n        value: \"\"\n      }];\n      this.setState({\n        sfs: sfs\n      });\n      console.log(\"SFS:\", sfs);\n    };\n\n    this.handleOnChemicalCommonChange = (value, chemical_idx) => {\n      let chemicals = [...this.state.chemical_compounds];\n      chemicals[chemical_idx].chemical_common = value;\n      this.setState({\n        chemical_compounds: chemicals\n      });\n    };\n\n    this.handleOnChemicalCidChange = (value, chemical_idx) => {\n      let chemicals = [...this.state.chemical_compounds];\n      chemicals[chemical_idx].chemical_cid = value;\n      this.setState({\n        chemical_compounds: chemicals\n      });\n    };\n\n    this.handleOnChemicalMoaChange = (value, chemical_idx) => {\n      let chemicals = [...this.state.chemical_compounds];\n      chemicals[chemical_idx].chemical_moa = value;\n      this.setState({\n        chemical_compounds: chemicals\n      });\n    };\n\n    this.handleOnTranscriptionFactorChange = (value, idx) => {\n      let tfs = [...this.state.tfs];\n      tfs[idx].value = value;\n      this.setState({\n        tfs: tfs\n      });\n    };\n\n    this.handleOnGrowthFactorChange = (value, idx) => {\n      let gfs = [...this.state.gfs];\n      gfs[idx].value = value;\n      this.setState({\n        gfs: gfs\n      });\n    };\n\n    this.handleOnStressFactorChange = (value, idx) => {\n      let sfs = [...this.state.sfs];\n      sfs[idx].value = value;\n      this.setState({\n        sfs: sfs\n      });\n    };\n\n    this.handleAddAuthor = e => {\n      e.preventDefault();\n      let authors = [...this.state.authors, {\n        value: \"\"\n      }];\n      this.setState({\n        authors: authors\n      });\n    };\n\n    this.handleOnAuthorChange = (value, idx) => {\n      let authors = [...this.state.authors];\n      authors[idx].value = value;\n      this.setState({\n        authors: authors\n      });\n    };\n\n    this.handleRemoveCompound = idx => {\n      console.log(\"REMOVING COMPOUND WITH INDEX:\", idx);\n      let compounds = [...this.state.chemical_compounds];\n      compounds = compounds.filter(function ({\n        row\n      }, index) {\n        return index !== idx;\n      });\n      this.setState({\n        chemical_compounds: compounds\n      });\n    };\n\n    this.handleRemoveAuthor = idx => {\n      let authors = [...this.state.authors];\n      authors = authors.filter(function ({\n        row\n      }, index) {\n        return index !== idx;\n      });\n      this.setState({\n        authors: authors\n      });\n    };\n\n    this.handleRemoveTFactor = idx => {\n      let tfs = [...this.state.tfs];\n      tfs = tfs.filter(function ({\n        row\n      }, index) {\n        return index !== idx;\n      });\n      this.setState({\n        tfs: tfs\n      });\n    };\n\n    this.handleRemoveGFactor = idx => {\n      let gfs = [...this.state.gfs];\n      gfs = gfs.filter(function ({\n        row\n      }, index) {\n        return index !== idx;\n      });\n      this.setState({\n        gfs: gfs\n      });\n    };\n\n    this.handleRemoveSFactor = idx => {\n      let sfs = [...this.state.sfs];\n      sfs = sfs.filter(function ({\n        row\n      }, index) {\n        return index !== idx;\n      });\n      this.setState({\n        sfs: sfs\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"newform container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Submit Form\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Please note that in order to submit new articles, you should be verified as a researcher. \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }), \"Please mail to sizykh.ad@mipt.ru if you want so.\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"Article data\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, this.state.single_valued_fields.map((dt, field_idx) => {\n      //const dt_tmp = dt\n      //console.log(dt_tmp.value)\n      return React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: dt.name,\n        value: dt.value,\n        onChange: e => {\n          this.onSingleValuedFieldChange(e.target.value, field_idx);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      });\n    })), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \" Authors: \"), this.state.authors.map((author, author_idx) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Article Author\",\n        value: author.value,\n        onChange: e => this.handleOnAuthorChange(e.target.value, author_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => this.handleRemoveAuthor(author_idx),\n        className: \"btn btn-danger btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, \"Remove Author\"));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.handleAddAuthor(e);\n      },\n      className: \"btn btn-secondary btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \"Add Author\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, \" Chemical compounds used in protocol:\"), this.state.chemical_compounds.map((chemical, chemical_idx) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Common Chemical Name\",\n        value: chemical.chemical_common,\n        onChange: e => this.handleOnChemicalCommonChange(e.target.value, chemical_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Chemical CID\",\n        value: chemical.chemical_cid,\n        onChange: e => this.handleOnChemicalCidChange(e.target.value, chemical_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Chemical Method of Affect\",\n        value: chemical.chemical_moa,\n        onChange: e => this.handleOnChemicalMoaChange(e.target.value, chemical_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => this.handleRemoveCompound(chemical_idx),\n        className: \"btn btn-danger btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"Remove compound\"));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.handleAddChemicalCompound(e);\n      },\n      className: \"btn btn-secondary btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"Add Compound\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, \"Transcription Factors: \"), this.state.tfs.map((tf, tf_idx) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Transcription Factor\",\n        value: tf.value,\n        onChange: e => this.handleOnTranscriptionFactorChange(e.target.value, tf_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => this.handleRemoveTFactor(tf_idx),\n        className: \"btn btn-danger btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, \"Remove Transcription Factor\"));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.handleAddTranscriptionFactor(e);\n      },\n      className: \"btn btn-secondary btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, \"Add Transcription Factor\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, \" Growth Factors: \"), this.state.gfs.map((gf, gf_idx) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Transcription Factor\",\n        value: gf.value,\n        onChange: e => this.handleOnGrowthFactorChange(e.target.value, gf_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => this.handleRemoveGFactor(gf_idx),\n        className: \"btn btn-danger btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, \"Remove Growth Factor\"));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.handleAddGrowthFactor(e);\n      },\n      className: \"btn btn-secondary btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, \"Add Growth Factor\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }, \"Stress Factors: \"), this.state.sfs.map((sf, sf_idx) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Transcription Factor\",\n        value: sf.value,\n        onChange: e => this.handleOnStressFactorChange(e.target.value, sf_idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => this.handleRemoveSFactor(sf_idx),\n        className: \"btn btn-danger btn-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      }, \"Remove Stress Factor\"));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: e => {\n        this.handleAddStressFactor(e);\n      },\n      className: \"btn btn-secondary btn-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, \"Add Stress Factor\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleSubmit,\n      className: \"btn btn-primary btn-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(NewEntity);","map":{"version":3,"sources":["/home/alex/Documents/Work/ccfe/frontend/src/components/NewEntity.js"],"names":["React","Component","Link","NavLink","withRouter","useHistory","Redirect","axios","store","Cookies","HOST","NewEntity","state","single_valued_fields","name","value","chemical_compounds","chemical_common","chemical_cid","chemical_moa","tfs","sfs","authors","gfs","redirect","handleSubmit","e","access_token","get","user_name","request","config","headers","preventDefault","console","log","post","then","response","status","alert","catch","error","props","history","push","getUser","username","password","handleRemoveStep","idx","setState","compound","protocol_steps","filter","c","c_s","sidx","onSingleValuedFieldChange","field_idx","onStepDurationChange","step_idx","step_duration","onStepDescriptionChange","step_description","onChemicalNameChange","chemical_idx","chemicals_used","chemical_name","onChemicalSmilesChange","chemical_smiles","onChemicalAmountChange","handleAddChemicalCompound","chemicalCompounds","handleAddTranscriptionFactor","handleAddGrowthFactor","handleAddStressFactor","handleOnChemicalCommonChange","chemicals","handleOnChemicalCidChange","handleOnChemicalMoaChange","handleOnTranscriptionFactorChange","handleOnGrowthFactorChange","handleOnStressFactorChange","handleAddAuthor","handleOnAuthorChange","handleRemoveCompound","compounds","row","index","handleRemoveAuthor","handleRemoveTFactor","handleRemoveGFactor","handleRemoveSFactor","render","map","dt","target","author","author_idx","chemical","tf","tf_idx","gf","gf_idx","sf","sf_idx"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Link, NavLink, withRouter, useHistory, Redirect} from \"react-router-dom\"\nimport axios from 'axios'\nimport store from \"../store/index\"\nimport Cookies from 'js-cookie'\n\nimport {HOST} from \"../constants/host.js\"\n//const HOST = \"https://cfm.mipt.ru:8443\"  // \"http://127.0.0.1:40001\" //\n\n\n\nclass NewEntity extends Component{\n    state = {\n       \n        single_valued_fields:[\n            {name:\"Source Cell Type\", value: \"\"},\n            {name:\"Target Cell Type\", value: \"\"},\n            {name:\"Species\", value: \"\"},\n            {name:\"DOI\", value: \"\"},\n            {name:\"Duration, days\", value: \"\"},\n            {name:\"Medium\", value: \"\"},\n            {name:\"Initial Culture\", value: \"\"},\n\n            {name:\"Article title\", value: \"\"}, \n            {name:\"Yield of product\", value: \"\"},\n            {name:\"How was the Yield calculated\", value: \"\"},\n            {name:\"Comments on protocol\", value: \"\"}\n        ],\n        chemical_compounds:[\n            { chemical_common: \"\", chemical_cid: \"\", chemical_moa:\"\" }\n        \n            \n            //canonical_smiles [],\n            //associated_articles: []\n\n        ],\n\n        tfs: [\n            {value: \"\"}\n        ],\n\n        sfs: [\n            {value: \"\"}\n        ],\n\n        authors: [\n            {value: \"\"}\n        ],\n\n        gfs:[\n            {value: \"\"}\n        ],\n        redirect: \"FALSE\"\n    \n    };\n\n\n    \n    handleSubmit = (e) => {\n        const access_token = Cookies.get(\"access_token\") ? Cookies.get(\"access_token\"): \"password\"\n        const user_name = Cookies.get(\"userName\") ?  Cookies.get(\"userName\") : \"JohnDoe\"\n        //console.log(access_token)\n        const request = {\n            user_name: user_name,\n            access_token: access_token,\n            request: this.state\n        }\n        const config = { \n            headers: {'Content-Type': 'application/json',\n                      'Access-Control-Allow-Origin':\"*\"} \n            };\n        e.preventDefault()\n        //console.log(\"handleSubmit call:\")\n        //\"https://cfm.mipt.ru:8443\"\n        // \"http://127.0.0.1:40001\"\n        console.log(\"REQUEST:\", request)\n        axios.post(\n            HOST + \"/api/submitQuery\",\n            request,\n            config\n        ).then((response) => {\n            \n            if (response.status == 200) {\n                alert(\"Submited successfully!\")\n            } \n            else {\n\n                alert (\"An error occupied!\")\n            }\n            console.log(response);\n        }\n        ).catch( (error)  => {\n            console.log(\"STATUS:\", error.response.status)\n            if (error.response.status == 401){\n                alert(\"You are not authorized for this action! \\nContact sizykh.ad@mipt.ru\")\n                this.props.history.push(\"/\")\n            }else if (error.response.status == 500) {\n                alert(\"Please check the correcthess of your input data.\")\n\n            }\n            console.log(\"ERROR\", error);\n          })\n    }\n\n    getUser = () =>{\n        //return store.getState();\n        return {\n            username: Cookies.get(\"user_name\") ?  Cookies.get(\"user_name\") : \"JohnDoe\",\n            password: Cookies.get(\"access_token\") ? Cookies.get(\"access_token\"): \"password\"\n        }\n    }\n\n\n\n\n      handleRemoveStep = idx => () => {\n        this.setState({\n            compound: this.state.protocol_steps.filter((c,c_s, sidx) => idx !== sidx)\n        });\n      };\n      onSingleValuedFieldChange = (value, field_idx) => {\n          ///console.log(value)\n          const single_valued_fields = this.state.single_valued_fields\n          single_valued_fields[field_idx].value = value\n          this.setState({\n              single_valued_fields: single_valued_fields\n          })\n          \n      }\n      onStepDurationChange = (value, step_idx) => {\n          const protocol_steps = this.state.protocol_steps\n          protocol_steps[step_idx].step_duration = value\n          this.setState({\n              protocol_steps: protocol_steps\n          })\n      }\n      onStepDescriptionChange = (value, step_idx) => {\n        const protocol_steps = this.state.protocol_steps\n        protocol_steps[step_idx].step_description = value\n        this.setState({\n            protocol_steps: protocol_steps\n        })\n    }\n\n    onChemicalNameChange = (value, step_idx, chemical_idx) => {\n        const protocol_steps = this.state.protocol_steps\n        protocol_steps[step_idx].chemicals_used[chemical_idx].chemical_name = value\n        this.setState({\n            protocol_steps: protocol_steps\n        })\n    }\n\n    onChemicalSmilesChange = (value, step_idx, chemical_idx) => {\n        const protocol_steps = this.state.protocol_steps\n        protocol_steps[step_idx].chemicals_used[chemical_idx].chemical_smiles = value\n        this.setState({\n            protocol_steps: protocol_steps\n        })\n    }\n\n    onChemicalAmountChange = (value) => {   // TODO: Add functionality here\n        console.log(value)\n    }\n\n\n    handleAddChemicalCompound = (e) => {\n        e.preventDefault();\n        console.log(\"ADD CHEMICAL EVENT\")\n        console.log(e)\n        const chemicalCompounds = [...this.state.chemical_compounds, { chemical_common: \"\", chemical_cid: \"\", chemical_moa: \"\"}]\n        this.setState({\n                chemical_compounds:chemicalCompounds\n\n        })\n\n    }\n\n\n    handleAddTranscriptionFactor = (e) => {\n        e.preventDefault();\n        console.log(\"ADD CHEMICAL EVENT\")\n        console.log(e)\n        const tfs = [...this.state.tfs, { value:\"\" }]\n        this.setState({\n                tfs:tfs\n\n        })\n        console.log(\"TFS:\",  tfs)\n\n    }\n\n    handleAddGrowthFactor = (e) => {\n        e.preventDefault();\n        const gfs = [...this.state.gfs, { value:\"\" }]\n        this.setState({\n                gfs:gfs\n\n        })\n        console.log(\"GFS:\", gfs)\n\n    }\n\n    handleAddStressFactor = (e) => {\n        e.preventDefault();\n        console.log(\"ADD SF EVENT\")\n        console.log(e)\n        const sfs = [...this.state.sfs, { value: \"\" }]\n        this.setState({\n                sfs:sfs\n\n        })\n        console.log(\"SFS:\", sfs)\n\n    }\n    handleOnChemicalCommonChange = (value, chemical_idx) => {\n        let chemicals = [...this.state.chemical_compounds]\n        chemicals[chemical_idx].chemical_common = value\n    \n\n    this.setState({\n        chemical_compounds:chemicals\n    })\n    }\n\n    handleOnChemicalCidChange = (value, chemical_idx) => {\n        let chemicals = [...this.state.chemical_compounds]\n        chemicals[chemical_idx].chemical_cid =value\n    \n    this.setState({\n        chemical_compounds:chemicals\n    })\n    }\n\n    handleOnChemicalMoaChange = (value, chemical_idx) => {\n        let chemicals = [...this.state.chemical_compounds]\n        chemicals[chemical_idx].chemical_moa =value\n    \n    this.setState({\n        chemical_compounds:chemicals\n    })\n    }\n\n    handleOnTranscriptionFactorChange = (value, idx) => {\n        let tfs = [...this.state.tfs]\n        tfs[idx].value = value\n    \n\n    this.setState({\n       tfs:tfs\n    })\n    }\n\n    handleOnGrowthFactorChange = (value, idx) => {\n        let gfs = [...this.state.gfs]\n        gfs[idx].value = value\n    \n\n    this.setState({\n       gfs:gfs\n    })\n    }\n\n    handleOnStressFactorChange = (value, idx) => {\n        let sfs = [...this.state.sfs]\n        sfs[idx].value = value\n    \n\n    this.setState({\n       sfs:sfs\n    })\n    }\n\n    handleAddAuthor = (e) => {\n        e.preventDefault()\n        let authors = [...this.state.authors, {value:\"\"}]\n        this.setState({\n            authors: authors\n        })\n    }\n\n    handleOnAuthorChange = (value, idx) => {\n        let authors = [...this.state.authors]\n        authors[idx].value = value\n        this.setState({\n            authors: authors\n        })\n    }\n\n    handleRemoveCompound = (idx) => {\n        console.log(\"REMOVING COMPOUND WITH INDEX:\",idx)\n        let compounds = [...this.state.chemical_compounds]\n        compounds = compounds.filter (function({row}, index) {\n           \n            return index !== idx\n        })\n\n        this.setState({\n            chemical_compounds: compounds\n        })\n    }\n\n\n    handleRemoveAuthor = (idx) => {\n        let authors = [...this.state.authors]\n        authors = authors.filter (function({row}, index) {\n           \n            return index !== idx\n        })\n\n        this.setState({\n            authors: authors\n        })\n    }\n    handleRemoveTFactor = (idx) => {\n        let tfs = [...this.state.tfs]\n        tfs = tfs.filter (function({row}, index) {\n           \n            return index !== idx\n        })\n\n        this.setState({\n            tfs: tfs\n        })\n    }\n\n\n    handleRemoveGFactor = (idx) => {\n        let gfs = [...this.state.gfs]\n        gfs = gfs.filter (function({row}, index) {\n           \n            return index !== idx\n        })\n\n        this.setState({\n            gfs: gfs\n        })\n    }\n\n\n    handleRemoveSFactor = (idx) => {\n        let sfs = [...this.state.sfs]\n        sfs = sfs.filter (function({row}, index) {\n           \n            return index !== idx\n        })\n\n        this.setState({\n            sfs: sfs\n        })\n    }\n\n\n\n    render() {\n        return(\n\n            <div className=\"newform container\">\n            <h2>Submit Form</h2>\n            <div>\n            Please note that in order to submit new articles, you should be verified as a researcher. <br/>\n            Please mail to sizykh.ad@mipt.ru if you want so.\n            </div>\n            <h3>Article data</h3>\n            <form onSubmit={this.handleSubmit}>\n            { this.state.single_valued_fields.map((dt, field_idx) => {\n                //const dt_tmp = dt\n                //console.log(dt_tmp.value)\n                return(\n                \n                <input type=\"text\" placeholder={dt.name} value={dt.value} onChange={(e) => {this.onSingleValuedFieldChange(e.target.value, field_idx) }} />\n                )\n            }) }  \n            \n            </form>\n\n\n            <form onSubmit={this.handleSubmit}>\n\n            <h3> Authors: </h3>\n\n                        {this.state.authors.map( (author, author_idx) => {\n                        return(\n                        <div>\n                        <div>\n                       \n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Article Author\" value={author.value} onChange={e => this.handleOnAuthorChange(e.target.value, author_idx)} />\n                        </div>\n                        </div>\n                       \n                        <br/>\n                        </div>\n\n                        <button type=\"button\" onClick={ (e) => this.handleRemoveAuthor(author_idx)} className=\"btn btn-danger btn-sm\">\n                               Remove Author\n                                </button>\n                        \n                        \n                        \n                        </div>\n                        )\n                })\n            }\n            <br/>\n            <button type=\"button\" onClick={ (e) => {this.handleAddAuthor(e)}} className=\"btn btn-secondary btn-sm\">\n                                Add Author\n                                </button>\n\n            <br/>\n            <br/>\n            <h3> Chemical compounds used in protocol:</h3>\n            {\n                this.state.chemical_compounds.map( (chemical, chemical_idx) => {\n                        return(\n                        <div>\n                        <div>\n                       \n\n                        <br/>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Common Chemical Name\" value={chemical.chemical_common} onChange={e => this.handleOnChemicalCommonChange(e.target.value, chemical_idx)} />\n                        </div>\n                        </div>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Chemical CID\" value={chemical.chemical_cid} onChange={e => this.handleOnChemicalCidChange(e.target.value, chemical_idx)} />\n                        </div>\n                        </div>\n                        <br/>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Chemical Method of Affect\" value={chemical.chemical_moa} onChange={e => this.handleOnChemicalMoaChange(e.target.value, chemical_idx)} />\n                        </div>\n                        </div>\n                        <br/>\n                        </div>\n                        <button type=\"button\" onClick={ (e) => this.handleRemoveCompound(chemical_idx)} className=\"btn btn-danger btn-sm\">\n                               Remove compound\n                                </button>\n                        \n                        \n                        \n                        </div>\n\n                        \n                        )\n                })\n            }\n            <br/>\n            <button type=\"button\" onClick={ (e) => {this.handleAddChemicalCompound(e)}} className=\"btn btn-secondary btn-sm\">\n                                Add Compound\n                                </button>\n            <br/>\n            <br/>\n            <h3>Transcription Factors: </h3>\n            {\n                this.state.tfs.map( (tf, tf_idx) => {\n                        return(\n                        <div>  \n                        <div>\n                       \n\n                        <br/>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Transcription Factor\" value={tf.value} onChange={e => this.handleOnTranscriptionFactorChange(e.target.value, tf_idx)} />\n                        </div>\n                        </div>\n                       \n                        <br/>\n                        </div>\n                        <button type=\"button\" onClick={ (e) => this.handleRemoveTFactor(tf_idx)} className=\"btn btn-danger btn-sm\">\n                               Remove Transcription Factor\n                                </button>\n                        \n                        \n                        \n                        </div>\n                        )\n                })\n            }\n            <br/>\n            <button type=\"button\" onClick={ (e) => {this.handleAddTranscriptionFactor(e)}} className=\"btn btn-secondary btn-sm\">\n                                Add Transcription Factor\n            </button>\n            <br/>\n             <br/>\n\n            <h3> Growth Factors: </h3>\n            {\n                this.state.gfs.map( (gf, gf_idx) => {\n                        return(\n                        <div>  \n                        <div>\n                       \n\n                        <br/>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Transcription Factor\" value={gf.value} onChange={e => this.handleOnGrowthFactorChange(e.target.value, gf_idx)} />\n                        </div>\n                        </div>\n                       \n                        <br/>\n                        </div>\n                        <button type=\"button\" onClick={ (e) => this.handleRemoveGFactor(gf_idx)} className=\"btn btn-danger btn-sm\">\n                               Remove Growth Factor\n                                </button>\n                        \n                        \n                        \n                        \n                        </div>\n                        )\n                })\n            }\n            <br/>\n            <button type=\"button\" onClick={ (e) => {this.handleAddGrowthFactor(e)}} className=\"btn btn-secondary btn-sm\">\n                                Add Growth Factor\n            </button>\n            <br/>\n            <br/>\n            <h3>Stress Factors: </h3>\n            {\n                this.state.sfs.map( (sf, sf_idx) => {\n                        return(\n                        <div>\n                        <div>\n                       \n\n                        <br/>\n                        <div className=\"form-row\">\n                        <div className=\"col-md-9\">\n                        <input type=\"text\" placeholder=\"Transcription Factor\" value={sf.value} onChange={e => this.handleOnStressFactorChange(e.target.value, sf_idx)} />\n                        </div>\n                        </div>\n                       \n                        <br/>\n                        </div>\n                        \n                        <button type=\"button\" onClick={ (e) => this.handleRemoveSFactor(sf_idx)} className=\"btn btn-danger btn-sm\">\n                               Remove Stress Factor\n                                </button>\n                        \n                        \n                        </div>\n                        )\n                })\n            }\n            <br/>\n            <button type=\"button\" onClick={ (e) => {this.handleAddStressFactor(e)}} className=\"btn btn-secondary btn-sm\">\n                                Add Stress Factor\n            </button>\n\n                        \n\n\n            \n            <br/>\n       \n        \n        </form>\n        <br></br>  \n            <button\n          type=\"button\"\n          onClick={this.handleSubmit}\n          className=\"btn btn-primary btn-lg\"\n        >\n          Submit\n        </button>\n        <br/>\n        <br/>\n        <br/>\n        </div>\n        \n        )\n    }\n}\n\nexport default withRouter(NewEntity);\n\n\n"]},"metadata":{},"sourceType":"module"}